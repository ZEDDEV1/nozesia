/* ============================================
   DASHBOARD - PREMIUM DESIGN SYSTEM
   NozesIA - Paleta Preto & Branco
   ============================================ */

/* === CSS Variables (Dark Mode - Default) === */
:root {
    --dash-bg: #000000;
    --dash-sidebar-bg: #0a0a0a;
    --dash-card-bg: rgba(20, 20, 20, 0.95);
    --dash-border: rgba(255, 255, 255, 0.1);
    --dash-border-hover: rgba(255, 255, 255, 0.2);
    --dash-text: #ffffff;
    --dash-text-muted: #888888;
    --dash-text-dim: #666666;
    --dash-accent: #ffffff;
    --dash-accent-glow: rgba(255, 255, 255, 0.15);
    --dash-input-bg: rgba(255, 255, 255, 0.05);
    --dash-modal-bg: #0f0f0f;
}

/* === Theme Transition (Smooth switching) === */
html,
html *,
html *::before,
html *::after {
    transition: background-color 0.3s ease,
        border-color 0.3s ease,
        color 0.15s ease,
        box-shadow 0.3s ease;
}

/* Disable transition on page load to prevent flash */
html.no-transition,
html.no-transition *,
html.no-transition *::before,
html.no-transition *::after {
    transition: none !important;
}

/* === Light Mode Theme === */
[data-theme="light"] {
    --dash-bg: #ffffff;
    --dash-sidebar-bg: #f5f5f5;
    --dash-card-bg: rgba(255, 255, 255, 0.95);
    --dash-border: rgba(0, 0, 0, 0.1);
    --dash-border-hover: rgba(0, 0, 0, 0.2);
    --dash-text: #000000;
    --dash-text-muted: #666666;
    --dash-text-dim: #888888;
    --dash-accent: #000000;
    --dash-accent-glow: rgba(0, 0, 0, 0.1);
    --dash-input-bg: rgba(0, 0, 0, 0.03);
    --dash-modal-bg: #ffffff;
}

/* Light mode body background */
[data-theme="light"] body {
    background: #ffffff;
}

/* Light mode specific overrides */
[data-theme="light"] .dash-sidebar-logo-text,
[data-theme="light"] .dash-page-title,
[data-theme="light"] .dash-card-title,
[data-theme="light"] .dash-stat-value,
[data-theme="light"] .dash-list-title,
[data-theme="light"] .dash-action-title,
[data-theme="light"] .dash-user-name {
    color: #000000;
}

[data-theme="light"] .dash-nav-item:hover {
    background: rgba(0, 0, 0, 0.05);
    color: #000000;
}

[data-theme="light"] .dash-nav-item.active {
    background: rgba(0, 0, 0, 0.08);
    color: #000000;
    border: 1px solid rgba(0, 0, 0, 0.15);
}

[data-theme="light"] .dash-header {
    background: rgba(255, 255, 255, 0.95);
}

[data-theme="light"] .dash-input {
    background: rgba(255, 255, 255, 0.9);
    color: #000000;
    border-color: rgba(0, 0, 0, 0.1);
}

[data-theme="light"] .dash-input::placeholder {
    color: #888888;
}

[data-theme="light"] .dash-select {
    background-color: rgba(255, 255, 255, 0.9);
    color: #000000;
    border-color: rgba(0, 0, 0, 0.1);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23666666'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
}

[data-theme="light"] .dash-select option {
    background-color: #ffffff;
    color: #000000;
}

[data-theme="light"] .dash-select option:hover,
[data-theme="light"] .dash-select option:focus,
[data-theme="light"] .dash-select option:checked {
    background-color: #f0f0f0;
    color: #000000;
}

[data-theme="light"] .dash-btn.secondary {
    background: rgba(0, 0, 0, 0.05);
    color: #000000;
}

[data-theme="light"] .dash-btn.secondary:hover {
    background: rgba(0, 0, 0, 0.1);
}

/* Light mode for modals and dropdowns */
[data-theme="light"] .dash-modal,
[data-theme="light"] .dash-dropdown {
    background: var(--dash-modal-bg);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
}

/* Light mode scrollbar */
[data-theme="light"] ::-webkit-scrollbar-track {
    background: #f0f0f0;
}

[data-theme="light"] ::-webkit-scrollbar-thumb {
    background: #cccccc;
}

[data-theme="light"] ::-webkit-scrollbar-thumb:hover {
    background: #999999;
}

/* === Page Layout === */
.dash-layout {
    display: flex;
    min-height: 100vh;
    background: var(--dash-bg);
}

/* === Sidebar === */
.dash-sidebar {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 280px;
    background: var(--dash-sidebar-bg);
    border-right: 1px solid var(--dash-border);
    display: flex;
    flex-direction: column;
    z-index: 50;
    transition: transform 0.3s ease;
}

.dash-sidebar.collapsed {
    transform: translateX(-100%);
}

@media (max-width: 1024px) {
    .dash-sidebar {
        transform: translateX(-100%);
    }

    .dash-sidebar.open {
        transform: translateX(0);
    }
}

.dash-sidebar-header {
    padding: 1.5rem;
    border-bottom: 1px solid var(--dash-border);
}

.dash-sidebar-logo {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    text-decoration: none;
}

.dash-sidebar-logo-icon {
    width: 40px;
    height: 40px;
    border-radius: 12px;
    background: #ffffff;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 20px rgba(255, 255, 255, 0.1);
}

.dash-sidebar-logo-icon svg {
    width: 22px;
    height: 22px;
    color: #000000;
}

.dash-sidebar-logo-text {
    font-size: 1.25rem;
    font-weight: 700;
    color: white;
}

.dash-sidebar-logo-img {
    height: 32px;
    width: auto;
    object-fit: contain;
}

.dash-sidebar-nav {
    flex: 1;
    padding: 1rem;
    overflow-y: auto;
}

.dash-nav-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.875rem 1rem;
    border-radius: 12px;
    color: var(--dash-text-muted);
    text-decoration: none;
    font-size: 0.95rem;
    font-weight: 500;
    transition: all 0.2s ease;
    margin-bottom: 0.25rem;
}

.dash-nav-item:hover {
    background: rgba(255, 255, 255, 0.05);
    color: white;
}

.dash-nav-item.active {
    background: rgba(255, 255, 255, 0.1);
    color: #ffffff;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.dash-nav-item svg {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
}

/* Locked menu items */
.dash-nav-item.locked {
    opacity: 0.6;
    cursor: pointer;
}

.dash-nav-item.locked:hover {
    background: rgba(245, 158, 11, 0.1);
    border: 1px solid rgba(245, 158, 11, 0.2);
}

.dash-sidebar-footer {
    padding: 1rem 1.5rem;
    border-top: 1px solid var(--dash-border);
}

.dash-user-info {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.03);
}

.dash-user-avatar {
    width: 40px;
    height: 40px;
    min-width: 40px;
    min-height: 40px;
    border-radius: 50% !important;
    background: #ffffff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.9rem;
    font-weight: 600;
    color: #000000;
    flex-shrink: 0;
}

.dash-user-name {
    font-size: 0.9rem;
    font-weight: 600;
    color: white;
}

.dash-user-email {
    font-size: 0.75rem;
    color: var(--dash-text-dim);
}

/* === Main Content === */
.dash-main {
    flex: 1;
    margin-left: 280px;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

@media (max-width: 1024px) {
    .dash-main {
        margin-left: 0;
    }
}

/* === Top Header === */
.dash-header {
    position: sticky;
    top: 0;
    z-index: 40;
    background: rgba(15, 23, 42, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--dash-border);
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.dash-header-left {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.dash-menu-btn {
    display: none;
    width: 40px;
    height: 40px;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--dash-border);
    color: white;
    cursor: pointer;
    align-items: center;
    justify-content: center;
}

@media (max-width: 1024px) {
    .dash-menu-btn {
        display: flex;
    }
}

.dash-menu-btn svg {
    width: 20px;
    height: 20px;
}

.dash-header-right {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.dash-plan-badge {
    padding: 0.5rem 1rem;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    font-size: 0.8rem;
    font-weight: 600;
    color: #ffffff;
}

/* === Page Content === */
.dash-content {
    flex: 1;
    padding: 1.5rem;
}

@media (min-width: 768px) {
    .dash-content {
        padding: 2rem;
    }
}

/* === Page Header === */
.dash-page-header {
    margin-bottom: 2rem;
}

/* === Page Header === */
.dash-page-header {
    margin-bottom: 1.5rem;
}

@media (max-width: 768px) {
    .dash-page-header {
        margin-bottom: 1rem;
    }
}

.dash-page-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: white;
    margin: 0 0 0.5rem;
}

.dash-page-subtitle {
    font-size: 0.95rem;
    color: var(--dash-text-muted);
    margin: 0;
}

/* === Cards === */
.dash-card {
    background: var(--dash-card-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--dash-border);
    border-radius: 16px;
    overflow: hidden;
    transition: all 0.2s ease;
}

.dash-card:hover {
    border-color: var(--dash-border-hover);
}

.dash-card-header {
    padding: 1.25rem 1.5rem;
    border-bottom: 1px solid var(--dash-border);
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.dash-card-title {
    font-size: 1rem;
    font-weight: 600;
    color: white;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.dash-card-title svg {
    width: 18px;
    height: 18px;
    color: #ffffff;
}

.dash-card-content {
    padding: 1.5rem;
}

/* === Stat Cards === */
.dash-stats-grid {
    display: grid;
    gap: 1rem;
    grid-template-columns: 1fr;
}

/* Mobile Large */
@media (min-width: 640px) {
    .dash-stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Laptop & Desktop */
@media (min-width: 1024px) {
    .dash-stats-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 1.25rem;
    }
}

/* Large Desktop - cards maiores */
@media (min-width: 1920px) {
    .dash-stats-grid {
        gap: 1.5rem;
    }
}

.dash-stat-card {
    position: relative;
    background: var(--dash-card-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--dash-border);
    border-radius: 16px;
    padding: 1.25rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
}

/* Gradient overlay sutil */
.dash-stat-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.03) 0%, rgba(255, 255, 255, 0) 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

.dash-stat-card:hover {
    border-color: var(--dash-border-hover);
    transform: translateY(-4px) scale(1.02);
}

.dash-stat-card:hover::before {
    opacity: 1;
}

/* Glow effects - P&B unificado */
.dash-stat-card:hover {
    box-shadow: 0 12px 40px rgba(255, 255, 255, 0.15);
}

.dash-stat-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: 0.75rem;
}

.dash-stat-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    background: rgba(255, 255, 255, 0.1);
    box-shadow: 0 4px 16px rgba(255, 255, 255, 0.1);
}

/* Classes de cor mantidas para compatibilidade - todas brancas */
.dash-stat-icon.emerald,
.dash-stat-icon.purple,
.dash-stat-icon.cyan,
.dash-stat-icon.amber {
    background: rgba(255, 255, 255, 0.1);
    box-shadow: 0 4px 16px rgba(255, 255, 255, 0.1);
}

/* Hover effect nos Ã­cones */
.dash-stat-card:hover .dash-stat-icon {
    transform: scale(1.1) rotate(5deg);
    box-shadow: 0 8px 24px rgba(255, 255, 255, 0.2);
}

.dash-stat-icon svg {
    width: 24px;
    height: 24px;
    color: #ffffff;
}

/* Classes de cor mantidas para compatibilidade */
.dash-stat-icon.emerald svg,
.dash-stat-icon.purple svg,
.dash-stat-icon.cyan svg,
.dash-stat-icon.amber svg {
    color: #ffffff;
}

.dash-stat-label {
    font-size: 0.85rem;
    color: var(--dash-text-muted);
    margin-bottom: 0.25rem;
    font-weight: 500;
}

.dash-stat-value {
    font-size: 1.875rem;
    font-weight: 700;
    color: white;
    line-height: 1;
    margin-bottom: 0.5rem;
}

/* Responsive font sizes */
@media (min-width: 1920px) {
    .dash-stat-value {
        font-size: 2.25rem;
    }

    .dash-stat-icon {
        width: 56px;
        height: 56px;
    }

    .dash-stat-icon svg {
        width: 28px;
        height: 28px;
    }
}

@media (max-width: 639px) {
    .dash-stat-value {
        font-size: 1.5rem;
    }
}

/* === Trend Indicator === */
.dash-stat-trend {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.25rem 0.5rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 600;
    margin-top: 0.375rem;
}

.dash-stat-trend.positive {
    background: rgba(16, 185, 129, 0.15);
    color: #34d399;
}

.dash-stat-trend.negative {
    background: rgba(239, 68, 68, 0.15);
    color: #f87171;
}

.dash-stat-trend.neutral {
    background: rgba(100, 116, 139, 0.15);
    color: #94a3b8;
}

.dash-stat-trend svg {
    width: 14px;
    height: 14px;
}

/* Pulse animation para trends positivos */
@keyframes trendPulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.7;
    }
}

.dash-stat-trend.positive svg {
    animation: trendPulse 2s ease-in-out infinite;
}

/* === Grid Layouts === */
.dash-grid-2 {
    display: grid;
    gap: 1.5rem;
}

@media (min-width: 1024px) {
    .dash-grid-2 {
        grid-template-columns: 2fr 1fr;
    }
}

.dash-grid-3 {
    display: grid;
    gap: 1rem;
}

@media (min-width: 640px) {
    .dash-grid-3 {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 1024px) {
    .dash-grid-3 {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* === Buttons === */
.dash-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.75rem 1.25rem;
    border-radius: 10px;
    font-size: 0.9rem;
    font-weight: 600;
    text-decoration: none;
    cursor: pointer;
    border: none;
    transition: all 0.2s ease;
}

.dash-btn svg {
    width: 18px;
    height: 18px;
}

.dash-btn.primary {
    background: #ffffff;
    color: #000000;
}

.dash-btn.primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(255, 255, 255, 0.2);
}

.dash-btn.secondary {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--dash-border);
    color: white;
}

.dash-btn.secondary:hover {
    background: rgba(255, 255, 255, 0.1);
}

.dash-btn.danger {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.2);
    color: #f87171;
}

.dash-btn.danger:hover {
    background: rgba(239, 68, 68, 0.2);
}

.dash-btn.sm {
    padding: 0.5rem 0.875rem;
    font-size: 0.8rem;
}

.dash-btn.lg {
    padding: 1rem 1.5rem;
    font-size: 1rem;
}

/* === List Items === */
.dash-list {
    display: flex;
    flex-direction: column;
}

.dash-list-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid transparent;
    transition: all 0.2s ease;
    text-decoration: none;
    color: inherit;
    margin-bottom: 0.5rem;
}

.dash-list-item:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: var(--dash-border);
    transform: translateX(4px);
    box-shadow: -4px 0 0 0 #34d399;
}

.dash-list-avatar {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: linear-gradient(135deg, #10b981, #0d9488);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    font-weight: 600;
    color: white;
    flex-shrink: 0;
}

.dash-list-content {
    flex: 1;
    min-width: 0;
}

.dash-list-title {
    font-size: 0.95rem;
    font-weight: 600;
    color: white;
    margin: 0 0 0.25rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.dash-list-subtitle {
    font-size: 0.85rem;
    color: var(--dash-text-muted);
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.dash-list-meta {
    font-size: 0.75rem;
    color: var(--dash-text-dim);
}

.dash-list-badge {
    padding: 0.25rem 0.625rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 600;
}

/* ============================================
   MOBILE & TABLET RESPONSIVE UTILITIES
   ============================================ */

/* === Responsive Table Wrapper === */
.dash-table-wrapper {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

.dash-table-wrapper table {
    min-width: 600px;
    /* Minimum width before scrolling */
}

/* === Responsive Stats Grid (Auto-responsive) === */
.dash-stats-grid-auto {
    display: grid;
    gap: 1rem;
    grid-template-columns: 1fr;
}

@media (min-width: 640px) {
    .dash-stats-grid-auto {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 1024px) {
    .dash-stats-grid-auto {
        grid-template-columns: repeat(3, 1fr);
        gap: 1.25rem;
    }
}

/* === Two Column Responsive Grid === */
.dash-grid-2-responsive {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: 1fr;
}

@media (min-width: 1024px) {
    .dash-grid-2-responsive {
        grid-template-columns: 1fr 1fr;
    }
}

/* === Sidebar Layout (Settings, etc) === */
.dash-sidebar-layout {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

@media (min-width: 1024px) {
    .dash-sidebar-layout {
        flex-direction: row;
    }
}

/* === Capabilities Grid === */
.dash-capabilities-grid {
    display: grid;
    gap: 1rem;
    grid-template-columns: 1fr;
}

@media (min-width: 768px) {
    .dash-capabilities-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* === Niche Options Grid === */
.dash-niche-grid {
    display: grid;
    gap: 0.5rem;
    grid-template-columns: 1fr;
}

@media (min-width: 640px) {
    .dash-niche-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* === Plans Grid (Billing Modal) === */
.dash-plans-grid {
    display: grid;
    gap: 1rem;
    grid-template-columns: 1fr;
}

@media (min-width: 640px) {
    .dash-plans-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 1024px) {
    .dash-plans-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* === Personality Templates Grid === */
.dash-templates-grid {
    display: grid;
    gap: 0.75rem;
    grid-template-columns: 1fr;
}

@media (min-width: 640px) {
    .dash-templates-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 1024px) {
    .dash-templates-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

.dash-list-badge.success {
    background: rgba(16, 185, 129, 0.15);
    color: #34d399;
}

.dash-list-badge.warning {
    background: rgba(245, 158, 11, 0.15);
    color: #fbbf24;
}

.dash-list-badge.error {
    background: rgba(239, 68, 68, 0.15);
    color: #f87171;
}

/* === Empty State === */
.dash-empty {
    text-align: center;
    padding: 3rem 1.5rem;
}

.dash-empty-icon {
    width: 48px;
    height: 48px;
    color: var(--dash-text-dim);
    margin: 0 auto 1rem;
    opacity: 0.5;
}

.dash-empty-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--dash-text-muted);
    margin: 0 0 0.5rem;
}

.dash-empty-text {
    font-size: 0.875rem;
    color: var(--dash-text-dim);
    margin: 0;
}

/* === Quick Action Cards === */
.dash-action-card {
    display: flex;
    align-items: center;
    gap: 0.875rem;
    padding: 1rem;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--dash-border);
    text-decoration: none;
    transition: all 0.2s ease;
    margin-bottom: 0.75rem;
}

.dash-action-card:hover {
    background: rgba(255, 255, 255, 0.06);
    border-color: var(--dash-border-hover);
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
}

.dash-action-card.highlight {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(13, 148, 136, 0.05));
    border-color: rgba(16, 185, 129, 0.2);
}

.dash-action-card.highlight:hover {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(13, 148, 136, 0.1));
    transform: translateY(-3px);
    box-shadow: 0 12px 30px rgba(16, 185, 129, 0.25);
}

.dash-action-icon {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.dash-action-icon.emerald {
    background: rgba(16, 185, 129, 0.15);
}

.dash-action-icon.emerald svg {
    color: #34d399;
}

.dash-action-icon.cyan {
    background: rgba(6, 182, 212, 0.15);
}

.dash-action-icon.cyan svg {
    color: #22d3ee;
}

.dash-action-icon.amber {
    background: rgba(245, 158, 11, 0.15);
}

.dash-action-icon.amber svg {
    color: #fbbf24;
}

.dash-action-icon svg {
    width: 20px;
    height: 20px;
}

.dash-action-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: white;
    margin: 0 0 0.125rem;
}

.dash-action-subtitle {
    font-size: 0.75rem;
    color: var(--dash-text-dim);
    margin: 0;
}

/* === Forms === */
.dash-form {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

.dash-form-row {
    display: grid;
    gap: 1.25rem;
}

@media (min-width: 640px) {
    .dash-form-row {
        grid-template-columns: repeat(2, 1fr);
    }
}

.dash-field {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.dash-label {
    font-size: 0.875rem;
    font-weight: 500;
    color: #d1d5db;
}

.dash-input {
    width: 100%;
    padding: 0.875rem 1rem;
    background: rgba(15, 23, 42, 0.8);
    border: 1px solid var(--dash-border);
    border-radius: 10px;
    color: white;
    font-size: 0.95rem;
    transition: all 0.2s ease;
}

.dash-input::placeholder {
    color: var(--dash-text-dim);
}

.dash-input:focus {
    outline: none;
    border-color: rgba(16, 185, 129, 0.4);
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
}

.dash-textarea {
    min-height: 120px;
    resize: vertical;
}

.dash-select {
    width: 100%;
    padding: 0.875rem 1rem;
    padding-right: 2.5rem;
    background-color: rgba(15, 23, 42, 0.9);
    border: 1px solid var(--dash-border);
    border-radius: 10px;
    color: white;
    font-size: 0.95rem;
    transition: all 0.2s ease;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2394a3b8'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
    background-size: 1.25rem;
    cursor: pointer;
}

.dash-select:focus {
    outline: none;
    border-color: rgba(236, 72, 153, 0.4);
    box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.1);
}

.dash-select option {
    background-color: #1e293b;
    color: #e2e8f0;
    padding: 0.75rem;
}

.dash-select option:hover,
.dash-select option:focus,
.dash-select option:checked {
    background-color: #334155;
    color: white;
}

/* === Status Indicators === */
.dash-status {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    font-size: 0.8rem;
    font-weight: 500;
}

.dash-status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.dash-status.online .dash-status-dot {
    background: #34d399;
    box-shadow: 0 0 8px #34d399;
}

.dash-status.offline .dash-status-dot {
    background: #64748b;
}

.dash-status.connecting .dash-status-dot {
    background: #fbbf24;
    animation: pulse 1.5s infinite;
}

.dash-status.error .dash-status-dot {
    background: #f87171;
}

@keyframes pulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.5;
    }
}

/* === Loading State === */
.dash-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 4rem;
}

.dash-spinner {
    width: 32px;
    height: 32px;
    border: 3px solid var(--dash-border);
    border-top-color: #34d399;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* === Modal / Dialog === */
.dash-modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    z-index: 100;
}

.dash-modal {
    background: var(--dash-sidebar-bg);
    border: 1px solid var(--dash-border);
    border-radius: 20px;
    width: 100%;
    max-width: 500px;
    max-height: 90vh;
    overflow-y: auto;
}

.dash-modal-header {
    padding: 1.5rem;
    border-bottom: 1px solid var(--dash-border);
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.dash-modal-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: white;
    margin: 0;
}

.dash-modal-close {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.05);
    border: none;
    color: var(--dash-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.dash-modal-close:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

.dash-modal-close svg {
    width: 18px;
    height: 18px;
}

.dash-modal-body {
    padding: 1.5rem;
}

.dash-modal-footer {
    padding: 1rem 1.5rem;
    border-top: 1px solid var(--dash-border);
    display: flex;
    justify-content: flex-end;
    gap: 0.75rem;
}

/* === QR Code Box === */
.dash-qr-box {
    background: white;
    border-radius: 16px;
    padding: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.dash-qr-box img {
    max-width: 200px;
    width: 100%;
    height: auto;
}

/* === Animations === */
.dash-fade-in {
    animation: dashFadeIn 0.3s ease-out;
}

@keyframes dashFadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* === Accessibility - Respect Reduced Motion === */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .dash-stat-card:hover {
        transform: none;
    }

    .dash-stat-icon {
        transition: none;
    }

    .dash-stat-trend.positive svg {
        animation: none;
    }
}

/* === Mobile Overlay === */
.dash-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 40;
    display: none;
}

@media (max-width: 1024px) {
    .dash-overlay.visible {
        display: block;
    }
}

/* ============================================
   CONVERSATIONS - CHAT INTERFACE
   ============================================ */

/* === Chat Layout === */
.chat-layout {
    display: flex;
    height: calc(100vh - 140px);
    gap: 1rem;
}

@media (max-width: 768px) {
    .chat-layout {
        height: calc(100vh - 120px);
    }
}

/* === Conversations Sidebar === */
.chat-sidebar {
    width: 380px;
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

@media (max-width: 1024px) {
    .chat-sidebar {
        width: 100%;
        position: absolute;
        inset: 0;
        z-index: 30;
        display: flex;
    }

    .chat-sidebar.hidden {
        display: none;
    }
}

.chat-sidebar-header {
    padding: 1rem 1.25rem;
    border-bottom: 1px solid var(--dash-border);
}

.chat-sidebar-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: white;
    margin: 0 0 0.75rem;
}

/* === Status Filter Tabs === */
.chat-filters {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
    flex-wrap: wrap;
}

.chat-filter-btn {
    padding: 0.375rem 0.75rem;
    border-radius: 8px;
    font-size: 0.8rem;
    font-weight: 500;
    border: 1px solid var(--dash-border);
    background: transparent;
    color: var(--dash-text-muted);
    cursor: pointer;
    transition: all 0.2s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
}

.chat-filter-btn:hover {
    background: rgba(255, 255, 255, 0.05);
    color: white;
}

.chat-filter-btn.active {
    background: rgba(16, 185, 129, 0.15);
    border-color: rgba(16, 185, 129, 0.3);
    color: #34d399;
}

.chat-filter-count {
    background: rgba(255, 255, 255, 0.1);
    padding: 0.125rem 0.375rem;
    border-radius: 4px;
    font-size: 0.7rem;
}

.chat-filter-btn.active .chat-filter-count {
    background: rgba(16, 185, 129, 0.2);
}

/* === Search Box === */
.chat-search {
    position: relative;
}

.chat-search-icon {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    width: 16px;
    height: 16px;
    color: var(--dash-text-dim);
}

.chat-search input {
    width: 100%;
    padding: 0.75rem 1rem 0.75rem 2.5rem;
    background: rgba(15, 23, 42, 0.6);
    border: 1px solid var(--dash-border);
    border-radius: 10px;
    color: white;
    font-size: 0.9rem;
}

.chat-search input::placeholder {
    color: var(--dash-text-dim);
}

.chat-search input:focus {
    outline: none;
    border-color: rgba(16, 185, 129, 0.4);
}

.chat-search-clear {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    color: var(--dash-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.chat-search-clear:hover {
    background: rgba(255, 255, 255, 0.2);
    color: white;
}

/* Filter button elements */
.filter-icon {
    font-size: 0.85rem;
}

.filter-label {
    font-size: 0.8rem;
}

.filter-count {
    background: rgba(255, 255, 255, 0.1);
    padding: 0.125rem 0.375rem;
    border-radius: 4px;
    font-size: 0.7rem;
    min-width: 18px;
    text-align: center;
}

.chat-filter-btn.active .filter-count {
    background: rgba(16, 185, 129, 0.25);
}

@media (max-width: 480px) {
    .filter-label {
        display: none;
    }

    .chat-filter-btn {
        padding: 0.375rem 0.5rem;
    }
}

/* === Conversations List === */
.chat-list {
    flex: 1;
    overflow-y: auto;
}

.chat-item {
    display: flex;
    align-items: center;
    gap: 0.875rem;
    padding: 0.875rem 1.25rem;
    cursor: pointer;
    border-bottom: 1px solid rgba(255, 255, 255, 0.04);
    transition: all 0.15s ease;
    width: 100%;
    background: transparent;
    border-left: none;
    border-right: none;
    border-top: none;
    text-align: left;
}

.chat-item:hover {
    background: rgba(255, 255, 255, 0.04);
}

.chat-item.active {
    background: rgba(16, 185, 129, 0.08);
    border-left: 3px solid #34d399;
    padding-left: calc(1.25rem - 3px);
}

.chat-item-avatar {
    position: relative;
    flex-shrink: 0;
}

.chat-avatar {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: linear-gradient(135deg, #475569, #334155);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    font-weight: 600;
    color: white;
}

.chat-unread-badge {
    position: absolute;
    top: -4px;
    right: -4px;
    min-width: 20px;
    height: 20px;
    border-radius: 10px;
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    font-size: 0.7rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 5px;
    border: 2px solid var(--dash-sidebar-bg);
}

.chat-item-content {
    flex: 1;
    min-width: 0;
}

.chat-item-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.25rem;
}

.chat-item-name {
    font-size: 0.95rem;
    font-weight: 600;
    color: white;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin: 0;
}

.chat-item-time {
    font-size: 0.75rem;
    color: var(--dash-text-dim);
    flex-shrink: 0;
    margin-left: 0.5rem;
}

.chat-item-preview {
    font-size: 0.85rem;
    color: var(--dash-text-muted);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin: 0 0 0.25rem;
}

.chat-item-tags {
    display: flex;
    gap: 0.375rem;
}

.chat-tag {
    padding: 0.125rem 0.5rem;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 500;
}

.chat-tag.ai {
    background: rgba(16, 185, 129, 0.15);
    color: #34d399;
}

.chat-tag.human {
    background: rgba(59, 130, 246, 0.15);
    color: #60a5fa;
}

.chat-tag.closed {
    background: rgba(100, 116, 139, 0.15);
    color: #94a3b8;
}

/* === Chat Main Area === */
.chat-main {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    min-width: 0;
}

@media (max-width: 1024px) {
    .chat-main.hidden-mobile {
        display: none;
    }

    .chat-main {
        position: absolute;
        inset: 0;
        z-index: 35;
        background: var(--dash-card-bg);
        border-radius: 16px;
    }
}

/* === Chat Header === */
.chat-header {
    padding: 1rem 1.25rem;
    border-bottom: 1px solid var(--dash-border);
    display: flex;
    align-items: center;
    gap: 0.875rem;
}

.chat-back-btn {
    display: none;
    width: 36px;
    height: 36px;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--dash-border);
    color: white;
    cursor: pointer;
    align-items: center;
    justify-content: center;
}

@media (max-width: 1024px) {
    .chat-back-btn {
        display: flex;
    }
}

.chat-back-btn svg {
    width: 18px;
    height: 18px;
}

.chat-header-info {
    flex: 1;
    min-width: 0;
}

.chat-header-name {
    font-size: 1rem;
    font-weight: 600;
    color: white;
    margin: 0;
}

.chat-header-phone {
    font-size: 0.85rem;
    color: var(--dash-text-muted);
    margin: 0;
}

.chat-header-actions {
    display: flex;
    gap: 0.5rem;
}

/* === Messages Container === */
.chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

/* === Message Bubbles === */
.chat-message {
    display: flex;
    gap: 0.5rem;
    max-width: 75%;
}

.chat-message.incoming {
    align-self: flex-start;
}

.chat-message.outgoing {
    align-self: flex-end;
    flex-direction: row-reverse;
}

.chat-message-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.chat-message-avatar.customer {
    background: #475569;
}

.chat-message-avatar.ai {
    background: linear-gradient(135deg, #10b981, #0d9488);
}

.chat-message-avatar.human {
    background: linear-gradient(135deg, #3b82f6, #6366f1);
}

.chat-message-avatar svg {
    width: 16px;
    height: 16px;
    color: white;
}

.chat-bubble {
    padding: 0.625rem 1rem;
    border-radius: 1rem;
    position: relative;
}

.chat-message.incoming .chat-bubble {
    background: #334155;
    border-bottom-left-radius: 4px;
}

.chat-message.outgoing .chat-bubble {
    border-bottom-right-radius: 4px;
}

.chat-message.outgoing.ai .chat-bubble {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.3), rgba(13, 148, 136, 0.2));
    border: 1px solid rgba(16, 185, 129, 0.2);
}

.chat-message.outgoing.human .chat-bubble {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(99, 102, 241, 0.2));
    border: 1px solid rgba(59, 130, 246, 0.2);
}

.chat-bubble-sender {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.7rem;
    color: var(--dash-text-muted);
    margin-bottom: 0.25rem;
}

.chat-bubble-sender svg {
    width: 12px;
    height: 12px;
}

.chat-bubble-text {
    font-size: 0.9rem;
    color: white;
    line-height: 1.4;
    margin: 0;
    white-space: pre-wrap;
    word-break: break-word;
}

.chat-bubble-time {
    font-size: 0.7rem;
    color: var(--dash-text-dim);
    text-align: right;
    margin-top: 0.25rem;
}

/* === Typing Indicator === */
.chat-typing {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    font-size: 0.85rem;
    color: var(--dash-text-muted);
}

.chat-typing-dots {
    display: flex;
    gap: 4px;
}

.chat-typing-dots span {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--dash-text-dim);
    animation: typing 1.2s infinite;
}

.chat-typing-dots span:nth-child(2) {
    animation-delay: 0.2s;
}

.chat-typing-dots span:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes typing {

    0%,
    60%,
    100% {
        transform: translateY(0);
        opacity: 0.4;
    }

    30% {
        transform: translateY(-4px);
        opacity: 1;
    }
}

/* === Chat Input === */
.chat-input-area {
    padding: 0.875rem 1rem;
    border-top: 1px solid var(--dash-border);
    display: flex;
    gap: 0.5rem;
    align-items: flex-end;
}

.chat-input-wrapper {
    flex: 1;
    position: relative;
}

.chat-input {
    width: 100%;
    padding: 0.75rem 1rem;
    background: rgba(15, 23, 42, 0.8);
    border: 1px solid var(--dash-border);
    border-radius: 12px;
    color: white;
    font-size: 0.95rem;
    resize: none;
    min-height: 44px;
    max-height: 120px;
    line-height: 1.4;
}

.chat-input::placeholder {
    color: var(--dash-text-dim);
}

.chat-input:focus {
    outline: none;
    border-color: rgba(16, 185, 129, 0.4);
}

.chat-send-btn {
    width: 44px;
    height: 44px;
    border-radius: 12px;
    background: linear-gradient(135deg, #10b981, #059669);
    border: none;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.chat-send-btn:hover:not(:disabled) {
    transform: scale(1.05);
    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
}

.chat-send-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.chat-send-btn svg {
    width: 20px;
    height: 20px;
}

/* === Empty Chat State === */
.chat-empty {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 2rem;
}

.chat-empty-icon {
    width: 64px;
    height: 64px;
    color: var(--dash-text-dim);
    opacity: 0.4;
    margin-bottom: 1rem;
}

.chat-empty-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--dash-text-muted);
    margin: 0 0 0.5rem;
}

.chat-empty-text {
    font-size: 0.9rem;
    color: var(--dash-text-dim);
    margin: 0;
}

/* === Status Badge in Header === */
.chat-status-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.25rem 0.5rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 500;
}

.chat-status-badge.ai {
    background: rgba(16, 185, 129, 0.15);
    color: #34d399;
}

.chat-status-badge.human {
    background: rgba(59, 130, 246, 0.15);
    color: #60a5fa;
}

.chat-status-badge.closed {
    background: rgba(100, 116, 139, 0.15);
    color: #94a3b8;
}

.chat-status-badge svg {
    width: 12px;
    height: 12px;
}

/* === Utility: Hide on Mobile === */
@media (max-width: 768px) {
    .hide-mobile {
        display: none !important;
    }
}

/* ============================================
   QUICK REPLIES COMPONENT
   ============================================ */

.quick-replies-container {
    position: relative;
}

.quick-replies-trigger {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--dash-border);
    color: var(--dash-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.quick-replies-trigger:hover {
    background: rgba(16, 185, 129, 0.1);
    border-color: rgba(16, 185, 129, 0.3);
    color: #34d399;
}

.quick-replies-trigger:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.quick-replies-dropdown {
    position: absolute;
    bottom: 100%;
    left: 0;
    margin-bottom: 8px;
    width: 320px;
    max-height: 400px;
    background: var(--dash-sidebar-bg);
    border: 1px solid var(--dash-border);
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
    overflow: hidden;
    z-index: 100;
    animation: slideUp 0.2s ease-out;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(8px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.quick-replies-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 1rem;
    border-bottom: 1px solid var(--dash-border);
}

.quick-replies-header h4 {
    margin: 0;
    font-size: 0.9rem;
    font-weight: 600;
    color: white;
}

.quick-replies-close {
    width: 24px;
    height: 24px;
    border-radius: 4px;
    background: transparent;
    border: none;
    color: var(--dash-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.quick-replies-close:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

.quick-replies-search {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    border-bottom: 1px solid var(--dash-border);
}

.quick-replies-search svg {
    color: var(--dash-text-dim);
    flex-shrink: 0;
}

.quick-replies-search input {
    flex: 1;
    background: transparent;
    border: none;
    color: white;
    font-size: 0.85rem;
    outline: none;
}

.quick-replies-search input::placeholder {
    color: var(--dash-text-dim);
}

.quick-replies-categories {
    display: flex;
    gap: 0.25rem;
    padding: 0.5rem;
    overflow-x: auto;
    border-bottom: 1px solid var(--dash-border);
}

.quick-replies-category {
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 500;
    background: transparent;
    border: 1px solid var(--dash-border);
    color: var(--dash-text-muted);
    cursor: pointer;
    white-space: nowrap;
    transition: all 0.2s ease;
}

.quick-replies-category:hover {
    background: rgba(255, 255, 255, 0.05);
}

.quick-replies-category.active {
    background: rgba(16, 185, 129, 0.15);
    border-color: rgba(16, 185, 129, 0.3);
    color: #34d399;
}

.quick-replies-list {
    max-height: 250px;
    overflow-y: auto;
}

.quick-replies-loading,
.quick-replies-empty {
    padding: 2rem;
    text-align: center;
    color: var(--dash-text-muted);
    font-size: 0.85rem;
}

.quick-replies-item {
    width: 100%;
    padding: 0.75rem 1rem;
    background: transparent;
    border: none;
    border-bottom: 1px solid rgba(255, 255, 255, 0.04);
    text-align: left;
    cursor: pointer;
    transition: background 0.15s ease;
}

.quick-replies-item:hover {
    background: rgba(16, 185, 129, 0.08);
}

.quick-replies-item-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.25rem;
}

.quick-replies-item-name {
    font-size: 0.85rem;
    font-weight: 600;
    color: white;
}

.quick-replies-item-category {
    font-size: 0.65rem;
    padding: 0.125rem 0.375rem;
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.1);
    color: var(--dash-text-muted);
}

.quick-replies-item-preview {
    font-size: 0.8rem;
    color: var(--dash-text-muted);
    margin: 0;
    line-height: 1.4;
}

/* ============================================
   CONVERSATION TAGS COMPONENT
   ============================================ */

.conversation-tags-container {
    position: relative;
    display: inline-block;
}

.conversation-tags-list {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 0.375rem;
}

.conversation-tag {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.125rem 0.5rem;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 500;
    border: 1px solid;
}

.conversation-tag-remove {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    border: none;
    cursor: pointer;
    opacity: 0.7;
    transition: opacity 0.2s;
}

.conversation-tag-remove:hover {
    opacity: 1;
}

.conversation-tag-add {
    width: 20px;
    height: 20px;
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px dashed var(--dash-border);
    color: var(--dash-text-dim);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.conversation-tag-add:hover {
    background: rgba(16, 185, 129, 0.1);
    border-color: rgba(16, 185, 129, 0.3);
    color: #34d399;
}

.conversation-tags-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 4px;
    width: 200px;
    background: var(--dash-sidebar-bg);
    border: 1px solid var(--dash-border);
    border-radius: 8px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    z-index: 1000;
    animation: fadeIn 0.15s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

.conversation-tags-dropdown-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    border-bottom: 1px solid var(--dash-border);
    color: var(--dash-text-muted);
    font-size: 0.75rem;
}

.conversation-tags-dropdown-list {
    max-height: 200px;
    overflow-y: auto;
}

.conversation-tags-empty {
    padding: 1rem;
    text-align: center;
    color: var(--dash-text-dim);
    font-size: 0.8rem;
}

.conversation-tags-option {
    width: 100%;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    background: transparent;
    border: none;
    cursor: pointer;
    transition: background 0.15s ease;
}

.conversation-tags-option:hover {
    background: rgba(255, 255, 255, 0.05);
}

.conversation-tags-option.selected {
    background: rgba(16, 185, 129, 0.08);
}

.conversation-tags-option-color {
    width: 12px;
    height: 12px;
    border-radius: 3px;
    flex-shrink: 0;
}

.conversation-tags-option-name {
    flex: 1;
    font-size: 0.85rem;
    color: white;
    text-align: left;
}

.conversation-tags-option-check {
    color: #34d399;
}

/* Tags badges for list view */
.conversation-tags-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 0.25rem;
    margin-top: 0.25rem;
}

.conversation-tag-badge {
    padding: 0.0625rem 0.375rem;
    border-radius: 3px;
    font-size: 0.65rem;
    font-weight: 500;
}

.conversation-tag-badge.more {
    background: rgba(255, 255, 255, 0.1);
    color: var(--dash-text-muted);
}

/* ============================================
   ONBOARDING WIZARD
   ============================================ */

.onboarding-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 1rem;
}

.onboarding-modal {
    width: 100%;
    max-width: 480px;
    background: linear-gradient(180deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%);
    border: 1px solid var(--dash-border);
    border-radius: 24px;
    overflow: hidden;
    box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);
}

.onboarding-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.25rem 1.5rem;
}

.onboarding-logo {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #34d399;
    font-weight: 600;
    font-size: 1rem;
}

.onboarding-skip {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.05);
    border: none;
    color: var(--dash-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.onboarding-skip:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

.onboarding-progress {
    height: 3px;
    background: var(--dash-border);
}

.onboarding-progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #10b981, #34d399);
    transition: width 0.4s ease;
}

.onboarding-steps {
    display: flex;
    justify-content: center;
    gap: 1rem;
    padding: 1.5rem;
}

.onboarding-step-dot {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid var(--dash-border);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--dash-text-muted);
    transition: all 0.3s ease;
}

.onboarding-step-dot.active {
    border-color: #10b981;
    color: #34d399;
}

.onboarding-step-dot.current {
    background: rgba(16, 185, 129, 0.2);
    transform: scale(1.1);
}

.onboarding-step-dot svg {
    color: #10b981;
}

.onboarding-content {
    text-align: center;
    padding: 1rem 2rem 2rem;
    transition: opacity 0.2s ease, transform 0.2s ease;
}

.onboarding-content.animating {
    opacity: 0;
    transform: translateX(-20px);
}

.onboarding-icon {
    width: 80px;
    height: 80px;
    margin: 0 auto 1.5rem;
    border-radius: 20px;
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(16, 185, 129, 0.05));
    border: 1px solid rgba(16, 185, 129, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #34d399;
}

.onboarding-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: white;
    margin: 0 0 0.75rem;
}

.onboarding-description {
    font-size: 0.95rem;
    color: var(--dash-text-muted);
    line-height: 1.6;
    margin: 0;
}

.onboarding-actions {
    display: flex;
    justify-content: center;
    gap: 0.75rem;
    padding: 0 2rem 1.5rem;
}

.onboarding-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 12px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.onboarding-btn.primary {
    background: linear-gradient(135deg, #10b981, #059669);
    border: none;
    color: white;
}

.onboarding-btn.primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
}

.onboarding-btn.secondary {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--dash-border);
    color: var(--dash-text-muted);
}

.onboarding-btn.secondary:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

.onboarding-hint {
    text-align: center;
    font-size: 0.8rem;
    color: var(--dash-text-dim);
    padding-bottom: 1.5rem;
    margin: 0;
}

/* Onboarding Banner (for dashboard) */
.onboarding-banner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 1rem;
    background: linear-gradient(90deg, rgba(16, 185, 129, 0.15), rgba(16, 185, 129, 0.05));
    border: 1px solid rgba(16, 185, 129, 0.2);
    border-radius: 12px;
    margin-bottom: 1rem;
}

.onboarding-banner-content {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #34d399;
    font-size: 0.9rem;
}

.onboarding-banner-btn {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.5rem 1rem;
    background: rgba(16, 185, 129, 0.2);
    border: 1px solid rgba(16, 185, 129, 0.3);
    border-radius: 8px;
    color: #34d399;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.onboarding-banner-btn:hover {
    background: rgba(16, 185, 129, 0.3);
}

/* ============================================
   WHATSAPP WEB THEME
   ============================================ */

/* === WhatsApp Color Variables === */
:root {
    --wa-bg-main: #0b141a;
    --wa-bg-panel: #111b21;
    --wa-bg-header: #202c33;
    --wa-bg-input: #2a3942;
    --wa-bubble-incoming: #202c33;
    --wa-bubble-outgoing: #005c4b;
    --wa-bubble-outgoing-ai: #005c4b;
    --wa-bubble-outgoing-human: #1f4b8e;
    --wa-accent: #00a884;
    --wa-accent-light: #25d366;
    --wa-text-primary: #e9edef;
    --wa-text-secondary: #8696a0;
    --wa-text-muted: #667781;
    --wa-border: #222d34;
    --wa-ticks: #53bdeb;
}

/* === WhatsApp Web Main Container === */
.wa-chat-container {
    display: flex;
    height: calc(100vh - 80px);
    background: var(--wa-bg-main);
    border-radius: 0;
    margin: -1.5rem;
    margin-top: 0;
    position: relative;
}

/* === WhatsApp Sidebar (Conversations List) === */
.wa-sidebar {
    width: 400px;
    min-width: 400px;
    max-width: 400px;
    background: var(--wa-bg-panel);
    border-right: 1px solid var(--wa-border);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.wa-sidebar .chat-sidebar-header {
    background: var(--wa-bg-header);
    border-bottom: 1px solid var(--wa-border);
    padding: 10px 16px;
}

.wa-sidebar .chat-sidebar-title {
    font-size: 20px;
    font-weight: 500;
    color: var(--wa-text-primary);
    margin: 0 0 12px;
}

.wa-sidebar .chat-filters {
    display: flex;
    gap: 6px;
    margin-bottom: 12px;
}

.wa-sidebar .chat-filter-btn {
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 13px;
    background: transparent;
    border: 1px solid var(--wa-border);
    color: var(--wa-text-secondary);
}

.wa-sidebar .chat-filter-btn.active {
    background: var(--wa-accent);
    border-color: var(--wa-accent);
    color: white;
}

.wa-sidebar .chat-search input {
    background: var(--wa-bg-input);
    border: none;
    border-radius: 8px;
    padding: 8px 12px 8px 36px;
    color: var(--wa-text-primary);
    font-size: 14px;
}

.wa-sidebar .chat-list {
    flex: 1;
    overflow-y: auto;
}

.wa-sidebar .chat-item {
    padding: 12px 16px;
    border-bottom: 1px solid rgba(134, 150, 160, 0.15);
    background: transparent;
}

.wa-sidebar .chat-item:hover {
    background: var(--wa-bg-header);
}

.wa-sidebar .chat-item.active {
    background: var(--wa-bg-input);
    border-left: 0;
    padding-left: 16px;
}

.wa-sidebar .chat-avatar {
    width: 49px;
    height: 49px;
    font-size: 18px;
    background: linear-gradient(135deg, #667781, #4a5568);
}

.wa-sidebar .chat-item-name {
    font-size: 17px;
    font-weight: 400;
    color: var(--wa-text-primary);
}

.wa-sidebar .chat-item-time {
    font-size: 12px;
    color: var(--wa-text-muted);
}

.wa-sidebar .chat-item-preview {
    font-size: 14px;
    color: var(--wa-text-secondary);
}

/* === WhatsApp Chat Panel === */
.wa-chat-panel {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: var(--wa-bg-main);
    min-width: 0;
    overflow: visible;
}

.wa-chat-panel .chat-header {
    background: var(--wa-bg-header);
    border-bottom: 1px solid var(--wa-border);
    padding: 10px 16px;
    min-height: 59px;
    display: flex;
    align-items: center;
    gap: 12px;
    position: relative;
    overflow: visible;
    z-index: 1000;
}

.wa-chat-panel .chat-avatar {
    width: 40px;
    height: 40px;
    font-size: 16px;
    flex-shrink: 0;
}

.wa-chat-panel .chat-header-info {
    flex: 1;
    min-width: 0;
    overflow: visible;
}

.wa-chat-panel .chat-header-name {
    font-size: 16px;
    font-weight: 400;
    color: var(--wa-text-primary);
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.wa-chat-panel .chat-header-phone {
    font-size: 13px;
    color: var(--wa-text-secondary);
    margin: 0;
}

/* Header status and tags inline */
.wa-chat-panel .chat-header-info>div {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
    margin-top: 2px;
}

/* Header top row - name and agent */
.wa-chat-panel .chat-header-top {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 2px;
}

.wa-chat-panel .chat-header-agent {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-size: 12px;
    color: #a78bfa;
    font-weight: 400;
    background: rgba(167, 139, 250, 0.1);
    padding: 2px 8px;
    border-radius: 10px;
}

/* Header meta row - status, tags, assign */
.wa-chat-panel .chat-header-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
    overflow: visible;
    position: relative;
    z-index: 1000;
}

/* Dropdowns dentro do header meta devem ficar acima de tudo */
.wa-chat-panel .chat-header-meta .conversation-tags-dropdown,
.wa-chat-panel .chat-header-meta>div>div[style*="position: absolute"] {
    z-index: 2000 !important;
}

/* Status badge */
.wa-chat-panel .chat-status-badge {
    display: inline-flex;
    align-items: center;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 11px;
    font-weight: 500;
    white-space: nowrap;
}

/* Header action buttons */
.wa-chat-panel .chat-header-actions {
    display: flex;
    gap: 6px;
    flex-shrink: 0;
}

.wa-chat-panel .chat-header-actions .dash-btn {
    padding: 6px 14px;
    font-size: 13px;
    border-radius: 6px;
}

.wa-chat-panel .chat-header-actions .dash-btn.sm {
    padding: 6px 12px;
}

.wa-chat-panel .chat-header-actions .dash-btn.primary {
    width: auto;
    height: auto;
    min-width: auto;
    border-radius: 6px;
}

.wa-chat-panel .chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: 20px 60px;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.wa-chat-panel .chat-input-area {
    background: var(--wa-bg-header);
    border-top: 1px solid var(--wa-border);
    padding: 10px 16px;
    display: flex;
    align-items: center;
    gap: 8px;
    min-height: 62px;
    position: relative;
    overflow: visible;
    z-index: 50;
}

.wa-chat-panel .chat-input-area>div {
    display: flex;
    gap: 8px;
    align-items: center;
    flex: 1;
}

.wa-chat-panel .chat-input {
    flex: 1;
    background: var(--wa-bg-input);
    border: none;
    border-radius: 8px;
    padding: 12px 16px;
    font-size: 15px;
    color: var(--wa-text-primary);
    min-height: 44px;
    line-height: 1.4;
}

.wa-chat-panel .chat-input::placeholder {
    color: var(--wa-text-muted);
}

/* Send Button WhatsApp Style */
.wa-chat-panel .dash-btn.primary {
    width: 44px;
    height: 44px;
    min-width: 44px;
    border-radius: 50%;
    padding: 0;
    background: var(--wa-accent);
    flex-shrink: 0;
}

.wa-chat-panel .dash-btn.primary:hover {
    background: var(--wa-accent-light);
}

.wa-chat-panel .dash-btn.primary svg {
    width: 20px;
    height: 20px;
}

/* Quick Replies Button */
.wa-chat-panel .quick-replies-trigger {
    width: 40px;
    height: 40px;
    flex-shrink: 0;
}

/* === WhatsApp Message Bubbles === */
.wa-chat-panel .chat-message {
    max-width: 65%;
    margin: 1px 0;
}

.wa-chat-panel .chat-message.incoming {
    align-self: flex-start;
}

.wa-chat-panel .chat-message.outgoing {
    align-self: flex-end;
}

.wa-chat-panel .chat-bubble {
    padding: 6px 7px 8px 9px;
    min-width: 80px;
}

.wa-chat-panel .chat-bubble-content {
    font-size: 14.2px;
    line-height: 19px;
}

/* === Empty State WhatsApp Style === */
.wa-chat-panel .wa-empty-state {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: var(--wa-bg-panel);
    border-bottom: 6px solid var(--wa-accent);
}

.wa-chat-panel .wa-empty-state-icon {
    width: 320px;
    height: 196px;
    margin-bottom: 40px;
    opacity: 0.5;
}

.wa-chat-panel .wa-empty-state-title {
    font-size: 32px;
    font-weight: 300;
    color: var(--wa-text-primary);
    margin: 0 0 20px;
}

.wa-chat-panel .wa-empty-state-text {
    font-size: 14px;
    color: var(--wa-text-secondary);
    text-align: center;
    max-width: 500px;
}

/* === Responsive WhatsApp Layout === */

/* Mobile phones */
@media (max-width: 480px) {

    /* Header compacto */
    .wa-chat-panel .chat-header {
        padding: 8px 10px;
        min-height: auto;
        gap: 8px;
    }

    .wa-chat-panel .chat-back-btn {
        display: flex;
        width: 32px;
        height: 32px;
    }

    .wa-chat-panel .chat-avatar {
        width: 36px;
        height: 36px;
        font-size: 14px;
    }

    .wa-chat-panel .chat-header-info {
        flex: 1;
        min-width: 0;
    }

    .wa-chat-panel .chat-header-name {
        font-size: 14px;
    }

    .wa-chat-panel .chat-header-top {
        gap: 6px;
        margin-bottom: 1px;
    }

    .wa-chat-panel .chat-header-agent {
        font-size: 10px;
        padding: 1px 6px;
    }

    /* Meta row - mais compacta com scroll */
    .wa-chat-panel .chat-header-meta {
        display: flex !important;
        flex-wrap: nowrap;
        overflow-x: auto;
        overflow-y: visible;
        gap: 4px;
        padding-bottom: 2px;
        -webkit-overflow-scrolling: touch;
    }

    .wa-chat-panel .chat-header-meta::-webkit-scrollbar {
        display: none;
    }

    /* Garantir que chat-header-info nÃ£o corte elementos */
    .wa-chat-panel .chat-header-info {
        overflow: visible !important;
    }

    /* Tags e Assign visÃ­veis */
    .wa-chat-panel .chat-header-meta .conversation-tags-container,
    .wa-chat-panel .chat-header-meta>div {
        display: flex !important;
        flex-shrink: 0;
    }

    .wa-chat-panel .chat-status-badge {
        font-size: 10px;
        padding: 1px 6px;
        flex-shrink: 0;
    }

    /* Tags mais compactas */
    .conversation-tags-container {
        flex-shrink: 0;
    }

    .conversation-tag-add {
        width: 18px;
        height: 18px;
    }

    /* Assign mais compacto */
    .assign-conversation-btn {
        font-size: 11px;
        padding: 2px 8px;
    }

    /* Actions buttons */
    .wa-chat-panel .chat-header-actions {
        gap: 4px;
        flex-shrink: 0;
    }

    .wa-chat-panel .chat-header-actions .dash-btn {
        padding: 4px 8px;
        font-size: 11px;
    }

    .wa-chat-panel .chat-header-actions .dash-btn.sm {
        padding: 4px 6px;
    }

    /* Messages area */
    .wa-chat-panel .chat-messages {
        padding: 10px 8px;
    }

    .wa-chat-panel .chat-message {
        max-width: 92%;
    }

    .wa-chat-panel .chat-bubble {
        padding: 5px 7px 6px 7px;
    }

    .chat-bubble-content {
        font-size: 13.5px;
        line-height: 17px;
    }

    .chat-bubble-sender {
        font-size: 11px;
    }

    .chat-bubble-meta {
        font-size: 10px;
    }

    /* Audio player compacto */
    .wa-audio-player {
        min-width: 180px;
        max-width: 240px;
        gap: 6px;
        padding: 4px 6px;
    }

    .wa-audio-avatar {
        width: 40px;
        height: 40px;
    }

    .wa-audio-play-btn {
        width: 30px;
        height: 30px;
    }

    .wa-audio-waveform {
        height: 22px;
    }

    /* Input area compacta */
    .wa-chat-panel .chat-input-area {
        padding: 6px 8px;
        min-height: 52px;
        gap: 6px;
    }

    .wa-chat-panel .chat-input {
        padding: 8px 10px;
        font-size: 14px;
        min-height: 36px;
    }

    .quick-replies-trigger,
    .chat-attach-btn,
    .audio-recorder-btn {
        width: 34px;
        height: 34px;
    }

    .wa-chat-panel .dash-btn.primary {
        width: 38px;
        height: 38px;
        min-width: 38px;
    }

    /* Audio recorder compacto */
    .audio-recorder-active {
        padding: 4px 8px;
        gap: 6px;
    }

    .audio-recorder-stop,
    .audio-recorder-send {
        width: 32px;
        height: 32px;
    }

    /* Dropdowns como modais fixos no mobile */
    .conversation-tags-dropdown {
        position: fixed !important;
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
        margin-top: 0 !important;
        width: 280px !important;
        max-width: 90vw !important;
        max-height: 70vh !important;
        z-index: 9999 !important;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5) !important;
        overflow-y: auto !important;
    }

    /* Assign dropdown como modal fixo no mobile */
    .wa-chat-panel .chat-header-meta>div[style*="position: relative"]>div[style*="position: absolute"] {
        position: fixed !important;
        top: 50% !important;
        left: 50% !important;
        right: auto !important;
        transform: translate(-50%, -50%) !important;
        z-index: 9999 !important;
        min-width: 280px !important;
        max-width: 90vw !important;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5) !important;
    }
}

/* Tablets */
@media (max-width: 768px) and (min-width: 481px) {
    .wa-chat-panel .chat-header {
        padding: 10px 12px;
    }

    .wa-chat-panel .chat-avatar {
        width: 38px;
        height: 38px;
    }

    .wa-chat-panel .chat-header-name {
        font-size: 15px;
    }

    .wa-chat-panel .chat-header-meta {
        gap: 6px;
    }

    .wa-chat-panel .chat-messages {
        padding: 14px 12px;
    }

    .wa-chat-panel .chat-message {
        max-width: 85%;
    }

    .wa-chat-panel .chat-input-area {
        padding: 8px 12px;
    }
}

/* General tablet/mobile layout */
@media (max-width: 1024px) {
    .wa-sidebar {
        width: 100%;
        max-width: 100%;
        position: absolute;
        inset: 0;
        z-index: 30;
    }

    .wa-sidebar.hidden {
        display: none;
    }

    .wa-chat-panel {
        position: absolute;
        inset: 0;
        z-index: 35;
    }

    .wa-chat-panel.hidden-mobile {
        display: none;
    }

    .wa-chat-panel .chat-message {
        max-width: 85%;
    }
}

/* Large screens */
@media (min-width: 1440px) {
    .wa-sidebar {
        width: 420px;
        max-width: 420px;
    }

    .wa-chat-panel .chat-messages {
        padding: 20px 100px;
    }
}

/* === Chat Background Pattern === */
.chat-messages {
    background-color: var(--wa-bg-main);
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Ccircle cx='7' cy='7' r='1.5'/%3E%3Ccircle cx='27' cy='27' r='1'/%3E%3Ccircle cx='47' cy='7' r='1.5'/%3E%3Ccircle cx='7' cy='47' r='1'/%3E%3Ccircle cx='47' cy='47' r='1.5'/%3E%3Cpath d='M20 10l2 2-2 2-2-2 2-2zm20 20l2 2-2 2-2-2 2-2z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}

/* === WhatsApp Bubble Styles - Enhanced === */
.chat-message.incoming .chat-bubble {
    background: var(--wa-bubble-incoming);
    border-radius: 7.5px 7.5px 7.5px 0;
    box-shadow: 0 1px 0.5px rgba(11, 20, 26, 0.08);
    border: none;
    padding: 8px 10px 10px 10px;
    position: relative;
}

.chat-message.outgoing .chat-bubble {
    background: var(--wa-bubble-outgoing);
    border-radius: 7.5px 7.5px 0 7.5px;
    box-shadow: 0 1px 0.5px rgba(11, 20, 26, 0.08);
    border: none;
    padding: 8px 10px 10px 10px;
}

/* AI messages - green WhatsApp style */
.chat-message.outgoing.ai .chat-bubble {
    background: var(--wa-bubble-outgoing-ai);
}

/* Human messages - blue tint for distinction */
.chat-message.outgoing.human .chat-bubble {
    background: var(--wa-bubble-outgoing-human);
}

/* Sender label in bubble */
.chat-bubble-sender {
    font-size: 12px;
    font-weight: 500;
    color: var(--wa-accent);
    margin-bottom: 3px;
    display: flex;
    align-items: center;
    gap: 4px;
}

.chat-message.outgoing.human .chat-bubble-sender {
    color: #60a5fa;
}

/* === Bubble Content WhatsApp Style === */
.chat-bubble-content {
    color: var(--wa-text-primary);
    font-size: 14.2px;
    line-height: 19px;
    white-space: pre-wrap;
    word-break: break-word;
}

/* === Bubble Meta (time + ticks) === */
.chat-bubble-meta {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 3px;
    margin-top: 2px;
    font-size: 11px;
    color: var(--wa-text-muted);
    float: right;
    margin-left: 10px;
    position: relative;
    bottom: -3px;
}

/* Double ticks - WhatsApp blue when read */
.chat-bubble-meta svg {
    color: var(--wa-text-muted);
}

.chat-bubble-meta svg.read {
    color: var(--wa-ticks);
}

/* === WhatsApp Audio Player - Enhanced === */
.wa-audio-player {
    display: flex;
    align-items: center;
    gap: 10px;
    min-width: 240px;
    max-width: 320px;
    padding: 6px 8px 6px 6px;
    border-radius: 8px;
}

.wa-audio-avatar {
    width: 52px;
    height: 52px;
    border-radius: 50%;
    background: linear-gradient(135deg, #00a884, #128c7e);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    color: white;
    font-size: 20px;
    box-shadow: 0 2px 8px rgba(0, 168, 132, 0.3);
    position: relative;
}

.wa-audio-avatar::after {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 50%;
    border: 2px solid rgba(0, 168, 132, 0.2);
}

.wa-audio-avatar.customer {
    background: linear-gradient(135deg, #667781, #4a5568);
    box-shadow: 0 2px 8px rgba(71, 85, 105, 0.3);
}

.wa-audio-avatar.customer::after {
    border-color: rgba(71, 85, 105, 0.2);
}

.wa-audio-controls {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 6px;
    min-width: 0;
}

.wa-audio-play-btn {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    color: var(--wa-text-primary);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.wa-audio-play-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: scale(1.05);
}

.wa-audio-waveform {
    display: flex;
    align-items: center;
    height: 28px;
    gap: 2px;
    flex: 1;
    cursor: pointer;
    padding: 4px 0;
}

.wa-audio-bar {
    width: 3px;
    background: rgba(255, 255, 255, 0.35);
    border-radius: 3px;
    transition: background 0.15s ease, transform 0.2s ease;
    min-height: 3px;
}

.wa-audio-bar.played {
    background: var(--wa-accent);
}

.wa-audio-bar.playing {
    background: var(--wa-accent-light);
    animation: audioPlaying 0.4s ease-in-out infinite alternate;
}

@keyframes audioPlaying {
    from {
        transform: scaleY(0.6);
        opacity: 0.8;
    }

    to {
        transform: scaleY(1);
        opacity: 1;
    }
}

.wa-audio-info {
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 11px;
    color: var(--wa-text-muted);
    padding-left: 2px;
}

.wa-audio-time {
    font-family: inherit;
    font-variant-numeric: tabular-nums;
    letter-spacing: 0.3px;
}

.wa-audio-speed {
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 6px;
    color: var(--wa-text-secondary);
    padding: 2px 8px;
    font-size: 11px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s ease;
}

.wa-audio-speed:hover {
    background: rgba(255, 255, 255, 0.15);
    color: var(--wa-text-primary);
    border-color: rgba(255, 255, 255, 0.25);
}

/* === WhatsApp Header === */
.chat-header {
    background: var(--wa-bg-header);
    border-bottom: 1px solid var(--wa-border);
}

/* === WhatsApp Input Area === */
.chat-input-area {
    background: var(--wa-bg-header);
    border-top: 1px solid var(--wa-border);
    padding: 10px 16px;
    gap: 10px;
}

.chat-input {
    background: var(--wa-bg-input);
    border: none;
    border-radius: 8px;
    padding: 9px 12px;
    font-size: 15px;
    color: var(--wa-text-primary);
}

.chat-input::placeholder {
    color: var(--wa-text-muted);
}

.chat-input:focus {
    outline: none;
    box-shadow: none;
}

/* === WhatsApp Sidebar === */
.chat-sidebar {
    background: var(--wa-bg-panel);
    border-right: 1px solid var(--wa-border);
}

.chat-sidebar-header {
    background: var(--wa-bg-header);
    border-bottom: 1px solid var(--wa-border);
}

.chat-item {
    border-bottom: 1px solid rgba(134, 150, 160, 0.15);
}

.chat-item:hover {
    background: rgba(255, 255, 255, 0.05);
}

.chat-item.active {
    background: var(--wa-bg-input);
    border-left-color: var(--wa-accent);
}

/* === WhatsApp Unread Badge === */
.chat-unread-badge {
    background: var(--wa-accent);
    font-size: 12px;
    min-width: 20px;
    height: 20px;
}

/* === Quick Replies Button WhatsApp Style === */
.quick-replies-trigger {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: transparent;
    border: none;
    color: var(--wa-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease;
}

.quick-replies-trigger:hover:not(:disabled) {
    color: var(--wa-text-primary);
    background: rgba(255, 255, 255, 0.1);
}

.quick-replies-trigger:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

/* === Audio Recorder === */
.audio-recorder-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: transparent;
    border: none;
    color: var(--wa-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease;
}

.audio-recorder-btn:hover:not(:disabled) {
    color: var(--wa-accent);
    background: rgba(0, 168, 132, 0.1);
}

.audio-recorder-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

.audio-recorder-active {
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.3);
    border-radius: 24px;
    padding: 6px 12px;
    animation: recorderFadeIn 0.2s ease-out;
}

@keyframes recorderFadeIn {
    from {
        opacity: 0;
        transform: scale(0.95);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

.audio-recorder-indicator {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #ef4444;
    animation: recorderPulse 1s ease-in-out infinite;
}

@keyframes recorderPulse {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
    }

    50% {
        opacity: 0.5;
        transform: scale(0.8);
    }
}

.audio-recorder-time {
    font-size: 14px;
    font-weight: 500;
    color: #ef4444;
    font-variant-numeric: tabular-nums;
    min-width: 45px;
}

.audio-recorder-preview {
    font-size: 14px;
    color: var(--wa-text-primary);
}

.audio-recorder-error {
    font-size: 12px;
    color: #ef4444;
}

.audio-recorder-cancel {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    color: var(--wa-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease;
}

.audio-recorder-cancel:hover {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.audio-recorder-stop {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: #ef4444;
    border: none;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease;
}

.audio-recorder-stop:hover {
    background: #dc2626;
    transform: scale(1.05);
}

.audio-recorder-send {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--wa-accent);
    border: none;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease;
}

.audio-recorder-send:hover:not(:disabled) {
    background: var(--wa-accent-light);
    transform: scale(1.05);
}

.audio-recorder-send:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* === Media/Attachment Button === */
.chat-attach-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: transparent;
    border: none;
    color: var(--wa-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease;
}

.chat-attach-btn:hover {
    color: var(--wa-text-primary);
    background: rgba(255, 255, 255, 0.1);
}

/* === WhatsApp Send Button - ONLY in chat input area === */
.chat-input-area .dash-btn.primary {
    background: var(--wa-accent);
    border-radius: 50%;
    width: 44px;
    height: 44px;
    padding: 0;
    min-width: 44px;
    flex-shrink: 0;
}

.chat-input-area .dash-btn.primary:hover {
    background: var(--wa-accent-light);
    transform: none;
    box-shadow: none;
}

/* === Customer Profile Sidebar === */
.customer-profile-sidebar {
    width: 0;
    overflow: hidden;
    transition: width 0.3s ease;
    background: var(--wa-bg-panel);
    border-left: 1px solid var(--wa-border);
    flex-shrink: 0;
}

.customer-profile-sidebar.open {
    width: 340px;
}

@media (max-width: 1280px) {
    .customer-profile-sidebar.open {
        position: absolute;
        right: 0;
        top: 0;
        bottom: 0;
        width: 100%;
        max-width: 340px;
        z-index: 40;
    }
}

.customer-profile-header {
    padding: 60px 30px 20px;
    text-align: center;
    background: var(--wa-bg-header);
}

.customer-profile-avatar {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    margin: 0 auto 16px;
    background: linear-gradient(135deg, #4a5568, #2d3748);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 72px;
    color: white;
    overflow: hidden;
}

.customer-profile-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.customer-profile-name {
    font-size: 21px;
    font-weight: 500;
    color: var(--wa-text-primary);
    margin: 0;
}

.customer-profile-phone {
    font-size: 14px;
    color: var(--wa-text-secondary);
    margin-top: 4px;
}

.customer-profile-section {
    padding: 14px 30px;
    border-bottom: 1px solid var(--wa-border);
}

.customer-profile-section-title {
    font-size: 14px;
    color: var(--wa-accent);
    margin: 0 0 8px;
    font-weight: 400;
}

.customer-profile-section-content {
    font-size: 16px;
    color: var(--wa-text-primary);
}

/* === Image Message WhatsApp Style === */
.chat-bubble-image {
    max-width: 330px;
    border-radius: 6px;
    overflow: hidden;
    margin: -2px -4px 4px;
}

.chat-bubble-image img {
    width: 100%;
    display: block;
    cursor: pointer;
}

/* === Voice Recorder WhatsApp Style === */
.voice-recorder {
    display: flex;
    align-items: center;
    gap: 12px;
    flex: 1;
    background: var(--wa-bg-input);
    border-radius: 8px;
    padding: 8px 12px;
}

.voice-recorder-timer {
    font-size: 14px;
    color: var(--wa-text-primary);
    font-variant-numeric: tabular-nums;
    min-width: 45px;
}

.voice-recorder-waveform {
    flex: 1;
    height: 24px;
    display: flex;
    align-items: center;
    gap: 2px;
}

.voice-recorder-bar {
    width: 3px;
    background: #ef4444;
    border-radius: 2px;
    animation: recordingPulse 0.5s ease-in-out infinite alternate;
}

@keyframes recordingPulse {
    from {
        height: 4px;
        opacity: 0.3;
    }

    to {
        height: 20px;
        opacity: 1;
    }
}

.voice-recorder-cancel {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: rgba(239, 68, 68, 0.2);
    border: none;
    color: #ef4444;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.voice-recorder-send {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--wa-accent);
    border: none;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* === Responsive WhatsApp === */
@media (max-width: 768px) {
    .chat-sidebar {
        width: 100%;
    }

    .wa-audio-player {
        min-width: 220px;
    }

    .chat-message {
        max-width: 85%;
    }

    .customer-profile-avatar {
        width: 150px;
        height: 150px;
        font-size: 54px;
    }
}

@media (min-width: 1440px) {
    .chat-sidebar {
        width: 420px;
    }
}

/* ============================================
   MEDIA UPLOADER
   ============================================ */

.media-uploader-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 20px;
}

.media-uploader-modal {
    background: var(--wa-bg-panel);
    border-radius: 8px;
    width: 100%;
    max-width: 500px;
    overflow: hidden;
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
}

.media-uploader-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 20px;
    background: var(--wa-bg-header);
    border-bottom: 1px solid var(--wa-border);
}

.media-uploader-header h3 {
    margin: 0;
    font-size: 18px;
    font-weight: 500;
    color: var(--wa-text-primary);
}

.media-uploader-close {
    background: transparent;
    border: none;
    color: var(--wa-text-muted);
    cursor: pointer;
    padding: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    transition: all 0.15s ease;
}

.media-uploader-close:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--wa-text-primary);
}

.media-uploader-content {
    padding: 24px;
}

.media-uploader-dropzone {
    border: 2px dashed var(--wa-border);
    border-radius: 8px;
    padding: 40px 20px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s ease;
}

.media-uploader-dropzone:hover {
    border-color: var(--wa-accent);
    background: rgba(0, 168, 132, 0.05);
}

.media-uploader-icons {
    display: flex;
    gap: 16px;
    justify-content: center;
    margin-bottom: 16px;
    color: var(--wa-text-muted);
}

.media-uploader-dropzone p {
    margin: 0 0 8px;
    font-size: 16px;
    color: var(--wa-text-primary);
}

.media-uploader-dropzone span {
    font-size: 13px;
    color: var(--wa-text-muted);
}

.media-uploader-preview {
    position: relative;
    border: 1px solid var(--wa-border);
    border-radius: 8px;
    overflow: hidden;
}

.media-uploader-preview img {
    width: 100%;
    max-height: 300px;
    object-fit: contain;
    background: var(--wa-bg-main);
    display: block;
}

.media-uploader-file-icon {
    padding: 40px;
    text-align: center;
    color: var(--wa-accent);
    background: var(--wa-bg-main);
}

.media-uploader-file-info {
    padding: 12px 16px;
    background: var(--wa-bg-header);
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.media-uploader-filename {
    font-size: 14px;
    color: var(--wa-text-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.media-uploader-filesize {
    font-size: 12px;
    color: var(--wa-text-muted);
}

.media-uploader-remove {
    position: absolute;
    top: 8px;
    right: 8px;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: rgba(0, 0, 0, 0.6);
    border: none;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.media-uploader-remove:hover {
    background: rgba(239, 68, 68, 0.8);
}

.media-uploader-error {
    margin-top: 12px;
    padding: 10px 14px;
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.3);
    border-radius: 6px;
    color: #ef4444;
    font-size: 13px;
}

.media-uploader-footer {
    display: flex;
    gap: 10px;
    padding: 16px 20px;
    background: var(--wa-bg-header);
    border-top: 1px solid var(--wa-border);
}

.media-uploader-caption {
    flex: 1;
    background: var(--wa-bg-input);
    border: none;
    border-radius: 8px;
    padding: 10px 14px;
    font-size: 14px;
    color: var(--wa-text-primary);
}

.media-uploader-caption::placeholder {
    color: var(--wa-text-muted);
}

.media-uploader-caption:focus {
    outline: none;
}

.media-uploader-send {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: var(--wa-accent);
    border: none;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all 0.15s ease;
}

.media-uploader-send:hover:not(:disabled) {
    background: var(--wa-accent-light);
}

.media-uploader-send:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* ============================================
   CALENDAR - PREMIUM DESIGN
   ============================================ */

/* Layout Principal do CalendÃ¡rio */
.calendar-layout {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
}

@media (min-width: 1280px) {
    .calendar-layout {
        grid-template-columns: 300px 1fr;
    }
}

/* Sidebar do CalendÃ¡rio */
.calendar-sidebar {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

@media (max-width: 1279px) {
    .calendar-sidebar {
        display: none;
    }
}

/* Mini CalendÃ¡rio */
.calendar-mini {
    background: var(--dash-card-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--dash-border);
    border-radius: 16px;
    padding: 1.25rem;
    transition: all 0.3s ease;
}

.calendar-mini:hover {
    border-color: var(--dash-border-hover);
}

.calendar-mini-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 1rem;
}

.calendar-mini-title {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--dash-text);
}

.calendar-mini-nav {
    display: flex;
    gap: 0.25rem;
}

.calendar-mini-nav button {
    width: 28px;
    height: 28px;
    border-radius: 6px;
    border: none;
    background: rgba(255, 255, 255, 0.05);
    color: var(--dash-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.calendar-mini-nav button:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--dash-text);
}

.calendar-mini-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 2px;
}

.calendar-mini-weekday {
    padding: 0.5rem 0;
    text-align: center;
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--dash-text-dim);
    text-transform: uppercase;
}

.calendar-mini-day {
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    color: var(--dash-text-muted);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}

.calendar-mini-day:hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--dash-text);
}

.calendar-mini-day.today {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(13, 148, 136, 0.15));
    color: #34d399;
    font-weight: 600;
}

.calendar-mini-day.selected {
    background: linear-gradient(135deg, #a855f7, #6366f1);
    color: white;
    font-weight: 600;
}

.calendar-mini-day.has-events::after {
    content: '';
    position: absolute;
    bottom: 4px;
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background: #10b981;
}

.calendar-mini-day.other-month {
    opacity: 0.3;
}

/* Painel de Compromissos de Hoje */
.calendar-today-panel {
    background: var(--dash-card-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--dash-border);
    border-radius: 16px;
    overflow: hidden;
    flex: 1;
    display: flex;
    flex-direction: column;
}

.calendar-today-header {
    padding: 1rem 1.25rem;
    border-bottom: 1px solid var(--dash-border);
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.calendar-today-icon {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(99, 102, 241, 0.15));
    display: flex;
    align-items: center;
    justify-content: center;
}

.calendar-today-icon svg {
    width: 18px;
    height: 18px;
    color: #a855f7;
}

.calendar-today-label {
    flex: 1;
}

.calendar-today-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--dash-text);
    margin: 0;
}

.calendar-today-date {
    font-size: 0.75rem;
    color: var(--dash-text-muted);
}

.calendar-today-count {
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    background: rgba(16, 185, 129, 0.15);
    color: #34d399;
    font-size: 0.75rem;
    font-weight: 600;
}

.calendar-today-list {
    flex: 1;
    overflow-y: auto;
    padding: 0.75rem;
    max-height: 400px;
}

.calendar-today-item {
    display: flex;
    gap: 0.75rem;
    padding: 0.75rem;
    border-radius: 10px;
    margin-bottom: 0.5rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid transparent;
    cursor: pointer;
    transition: all 0.2s ease;
}

.calendar-today-item:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: var(--dash-border);
    transform: translateX(4px);
}

.calendar-today-time {
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 45px;
}

.calendar-today-time-value {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--dash-text);
}

.calendar-today-time-line {
    flex: 1;
    width: 2px;
    background: linear-gradient(to bottom, #a855f7, transparent);
    margin-top: 0.25rem;
    border-radius: 1px;
}

.calendar-today-content {
    flex: 1;
    min-width: 0;
}

.calendar-today-item-title {
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--dash-text);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-bottom: 0.25rem;
}

.calendar-today-item-meta {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.75rem;
    color: var(--dash-text-muted);
}

.calendar-today-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    text-align: center;
    color: var(--dash-text-muted);
}

.calendar-today-empty svg {
    width: 48px;
    height: 48px;
    margin-bottom: 1rem;
    opacity: 0.3;
}

.calendar-today-empty p {
    font-size: 0.85rem;
    margin: 0;
}

/* Barra de Filtros */
.calendar-filters {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
    margin-bottom: 1rem;
}

.calendar-search {
    flex: 1;
    min-width: 200px;
    position: relative;
}

.calendar-search-icon {
    position: absolute;
    left: 1rem;
    top: 50%;
    transform: translateY(-50%);
    width: 18px;
    height: 18px;
    color: var(--dash-text-dim);
    pointer-events: none;
}

.calendar-search input {
    width: 100%;
    padding: 0.75rem 1rem 0.75rem 2.75rem;
    background: var(--dash-input-bg);
    border: 1px solid var(--dash-border);
    border-radius: 10px;
    color: var(--dash-text);
    font-size: 0.9rem;
    transition: all 0.2s ease;
}

.calendar-search input:focus {
    outline: none;
    border-color: #a855f7;
    box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.1);
}

.calendar-search input::placeholder {
    color: var(--dash-text-dim);
}

.calendar-filter-group {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.calendar-filter-btn {
    padding: 0.5rem 1rem;
    border-radius: 20px;
    border: 1px solid var(--dash-border);
    background: transparent;
    color: var(--dash-text-muted);
    font-size: 0.8rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.calendar-filter-btn:hover {
    background: rgba(255, 255, 255, 0.05);
    color: var(--dash-text);
}

.calendar-filter-btn.active {
    background: linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(99, 102, 241, 0.1));
    border-color: rgba(168, 85, 247, 0.3);
    color: #a855f7;
}

.calendar-filter-btn.active.confirmed {
    background: rgba(16, 185, 129, 0.15);
    border-color: rgba(16, 185, 129, 0.3);
    color: #34d399;
}

.calendar-filter-btn.active.pending {
    background: rgba(245, 158, 11, 0.15);
    border-color: rgba(245, 158, 11, 0.3);
    color: #fbbf24;
}

.calendar-filter-count {
    padding: 0.125rem 0.5rem;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.1);
    font-size: 0.7rem;
}

/* Grade Principal do CalendÃ¡rio */
.calendar-main-card {
    background: var(--dash-card-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--dash-border);
    border-radius: 16px;
    overflow: hidden;
}

.calendar-main-header {
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid var(--dash-border);
    flex-wrap: wrap;
    gap: 1rem;
}

.calendar-nav-group {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.calendar-nav-btn {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    border: 1px solid var(--dash-border);
    background: rgba(255, 255, 255, 0.03);
    color: var(--dash-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.calendar-nav-btn:hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--dash-text);
}

.calendar-current-date {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--dash-text);
    text-transform: capitalize;
}

.calendar-view-toggle {
    display: flex;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 10px;
    padding: 4px;
}

.calendar-view-btn {
    padding: 0.5rem 1.25rem;
    border-radius: 8px;
    border: none;
    background: transparent;
    color: var(--dash-text-muted);
    font-size: 0.85rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.calendar-view-btn:hover {
    color: var(--dash-text);
}

.calendar-view-btn.active {
    background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(99, 102, 241, 0.15));
    color: #a855f7;
}

/* Grade de Dias */
.calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
}

.calendar-weekday-header {
    padding: 1rem 0.75rem;
    text-align: center;
    background: rgba(255, 255, 255, 0.02);
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--dash-text-dim);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-bottom: 1px solid var(--dash-border);
}

.calendar-day-cell {
    min-height: 140px;
    padding: 0.5rem;
    border-right: 1px solid rgba(255, 255, 255, 0.03);
    border-bottom: 1px solid rgba(255, 255, 255, 0.03);
    background: rgba(15, 23, 42, 0.3);
    transition: all 0.2s ease;
}

.calendar-day-cell:nth-child(7n) {
    border-right: none;
}

.calendar-day-cell:hover {
    background: rgba(255, 255, 255, 0.02);
}

.calendar-day-cell.today {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.08), rgba(13, 148, 136, 0.05));
    border-top: 3px solid #10b981;
}

.calendar-day-number {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--dash-text);
    margin-bottom: 0.5rem;
    padding: 0.25rem 0.5rem;
    display: inline-block;
}

.calendar-day-cell.today .calendar-day-number {
    color: #10b981;
    background: rgba(16, 185, 129, 0.15);
    border-radius: 6px;
}

/* Cards de Eventos */
.calendar-event {
    padding: 0.5rem 0.6rem;
    margin-bottom: 0.35rem;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    border-left: 3px solid;
    position: relative;
    overflow: hidden;
}

.calendar-event::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), transparent);
    opacity: 0;
    transition: opacity 0.2s ease;
}

.calendar-event:hover {
    transform: translateX(2px) scale(1.02);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.calendar-event:hover::before {
    opacity: 1;
}

.calendar-event-time {
    font-size: 0.7rem;
    font-weight: 600;
    margin-bottom: 0.15rem;
    display: flex;
    align-items: center;
    gap: 0.35rem;
}

.calendar-event-title {
    font-size: 0.75rem;
    color: var(--dash-text);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: flex;
    align-items: center;
    gap: 0.35rem;
}

.calendar-event-icon {
    font-size: 0.7rem;
    flex-shrink: 0;
}

/* Status colors for events */
.calendar-event.pending {
    background: rgba(245, 158, 11, 0.1);
    border-color: #f59e0b;
}

.calendar-event.pending .calendar-event-time {
    color: #fbbf24;
}

.calendar-event.confirmed {
    background: rgba(16, 185, 129, 0.1);
    border-color: #10b981;
}

.calendar-event.confirmed .calendar-event-time {
    color: #34d399;
}

.calendar-event.cancelled {
    background: rgba(239, 68, 68, 0.1);
    border-color: #ef4444;
}

.calendar-event.cancelled .calendar-event-time {
    color: #f87171;
}

.calendar-event.completed {
    background: rgba(99, 102, 241, 0.1);
    border-color: #6366f1;
}

.calendar-event.completed .calendar-event-time {
    color: #818cf8;
}

.calendar-event.rescheduled {
    background: rgba(139, 92, 246, 0.1);
    border-color: #8b5cf6;
}

.calendar-event.rescheduled .calendar-event-time {
    color: #a78bfa;
}

.calendar-event.in-progress {
    background: rgba(59, 130, 246, 0.1);
    border-color: #3b82f6;
}

.calendar-event.in-progress .calendar-event-time {
    color: #60a5fa;
}

.calendar-event.no-show {
    background: rgba(148, 163, 184, 0.1);
    border-color: #94a3b8;
}

.calendar-event.no-show .calendar-event-time {
    color: #94a3b8;
}

/* More events indicator */
.calendar-more-events {
    font-size: 0.7rem;
    color: var(--dash-text-dim);
    text-align: center;
    padding: 0.25rem;
    cursor: pointer;
    transition: color 0.2s ease;
}

.calendar-more-events:hover {
    color: #a855f7;
}

/* Responsividade Mobile */
@media (max-width: 768px) {
    .calendar-grid {
        grid-template-columns: repeat(7, minmax(80px, 1fr));
        overflow-x: auto;
    }

    .calendar-day-cell {
        min-height: 100px;
    }

    .calendar-filters {
        flex-direction: column;
    }

    .calendar-search {
        width: 100%;
    }

    .calendar-filter-group {
        width: 100%;
        overflow-x: auto;
        flex-wrap: nowrap;
        padding-bottom: 0.5rem;
    }
}

/* Light mode adjustments */
[data-theme="light"] .calendar-mini,
[data-theme="light"] .calendar-today-panel,
[data-theme="light"] .calendar-main-card {
    background: rgba(255, 255, 255, 0.95);
}

[data-theme="light"] .calendar-day-cell {
    background: rgba(255, 255, 255, 0.5);
}

[data-theme="light"] .calendar-day-cell.today {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(13, 148, 136, 0.05));
}

/* ============================================
   RESPONSIVE LAYOUT UTILITIES
   ============================================ */

/* === Calendar Page Layout === */
.calendar-layout {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

@media (min-width: 1024px) {
    .calendar-layout {
        flex-direction: row;
    }
}

.calendar-sidebar {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

@media (min-width: 1024px) {
    .calendar-sidebar {
        width: 320px;
        flex-shrink: 0;
    }
}

/* === Kanban/Pipeline Board === */
.kanban-scroll {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 1rem;
    margin: 0 -0.5rem;
    padding: 0 0.5rem;
}

.kanban-board {
    display: flex;
    gap: 1rem;
    min-width: min-content;
}

.kanban-column {
    min-width: 260px;
    width: 260px;
    flex-shrink: 0;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    min-height: 400px;
}

@media (min-width: 1400px) {
    .kanban-column {
        flex: 1;
        min-width: 220px;
        width: auto;
    }
}

/* === Settings Sidebar Fix  === */
.dash-sidebar-layout .dash-settings-sidebar {
    width: 100%;
}

@media (min-width: 1024px) {
    .dash-sidebar-layout .dash-settings-sidebar {
        width: 240px;
        flex-shrink: 0;
    }
}

/* === CRM/Stats Grid with smaller minmax === */
.dash-segment-grid {
    display: grid;
    gap: 0.5rem;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
}

@media (min-width: 640px) {
    .dash-segment-grid {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    }
}

/* === Usage Stats Grid === */
.dash-usage-grid {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: 1fr;
}

@media (min-width: 480px) {
    .dash-usage-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 768px) {
    .dash-usage-grid {
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    }
}

/* === Agent Card Actions - Mobile Fix === */
@media (max-width: 640px) {
    .dash-agent-card-content {
        flex-direction: column;
        align-items: flex-start !important;
        gap: 1rem !important;
    }

    .dash-agent-card-content>div:last-child {
        align-self: flex-end;
    }
}

/* === Session Card Mobile Fix === */
@media (max-width: 640px) {
    .dash-session-card {
        flex-direction: column;
        align-items: flex-start !important;
        gap: 1rem !important;
    }

    .dash-session-card>div:last-child {
        width: 100%;
        justify-content: flex-end;
    }
}